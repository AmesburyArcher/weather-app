const n="bae51e29487cd04db12441e4113bb4e1",e="https://api.openweathermap.org/data/2.5/weather?",t="https://api.openweathermap.org/data/2.5/forecast?",a=273.15,i=async function(n){try{const t=await Promise.race([fetch(n),(e=10,new Promise((function(n,t){setTimeout((function(){t(new Error(`Request took too long! Timeout after ${e} second`))}),1e3*e)})))]);if(404===t.status)throw new Error("Location not found");return await t.json()}catch(n){throw n}var e},r=function(n){let e=new Date(n);return`${["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][e.getDay()]} ${e.getDate()} ${["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]} ${n.slice(11,16)}`},o={weatherSameday:{},weatherFiveDays:{},unit:"C",page:1,resPerPage:4},s=function(n){const{main:e}=n;return o.weatherSameday={location:n.name,temperature:{feelsLike:e.feels_like,humidity:e.humidity,pressure:e.pressure,temp:e.temp,tempMax:e.temp_max,tempMin:e.temp_min},weather:{icon:n.weather[0].icon,curWeather:n.weather[0].main,description:n.weather[0].description,windSpeed:n.wind.speed,...n.rain&&{rainInfo:n.rain["1h"]},...n.snow&&{snowInfo:n.snow["1h"]}}}},d=function(n){return o.weatherFiveDays={location:n.city.name,hourlyForecast:n.list.map((n=>({date:r(n.dt_txt),clouds:n.clouds,feelsLike:n.main.feels_like,temp:n.main.temp,pop:n.pop,...n.rain&&{rainInfo:n.rain["3h"]},...n.snow&&{snowInfo:n.snow["3h"]},curWeather:n.weather[0].main,description:n.weather[0].description,windSpeed:n.wind.speed})))}},l=function(n=o.page){o.page=n;const e=(n-1)*o.resPerPage,t=n*o.resPerPage;return o.weatherFiveDays.hourlyForecast.slice(e,t)},c=async function(){try{const a=await new Promise(((n,e)=>navigator.geolocation.getCurrentPosition(n,e)));o.page=1;const{coords:r}=a,{latitude:l,longitude:c}=r,h=`${e}lat=${l}&lon=${c}&appid=${n}`,p=await i(h);o.weatherSameday=s(p);const _=`${t}lat=${l}&lon=${c}&appid=${n}`,v=await i(_);o.weatherFiveDays=d(v)}catch(n){throw n}};class h{_data;_extraParam;render(n,e=null){if(!n)return this.renderError();this.clear(),this._data=n,this._extraParam=e;const t=this._generateMarkup();this._parentElement.insertAdjacentHTML("afterbegin",t)}renderSpinner(){this.clear(),this._parentElement.insertAdjacentHTML("afterbegin",'\n          <div class="spinner">\n          </div> \n    ')}clear(){this._parentElement.innerHTML=""}renderError(n=this._errorMessage){const e=`\n    <div class="error">\n      <p>${n}</p>\n    </div> \n    `;this.clear(),this._parentElement.insertAdjacentHTML("afterbegin",e)}}var p=new class extends h{_parentElement=document.querySelector(".today__information");_errorMessage="Sorry, an error has occured we were unable to process your request.";_generateMarkup(){const n=Date.now(),e=new Date(n).toDateString(),t=this._extraParam;return`\n        <div class="left__today__information">\n            <div class="today__city">${this._data.location}</div>\n            <div class="today__description">${this._data.weather.description}</div>\n            <div class="today__date">${e}</div>\n            <div class="today__temperature">${("C"===t?this._data.temperature.temp-a:1.8*(this._data.temperature.temp-a)+32).toFixed(1)}ยบ${t}</div>\n            <div class="today__icon">\n              <img src="http://openweathermap.org/img/wn/${this._data.weather.icon}@2x.png" alt="weather-icon">\n            </div>\n            </div>\n          <div class="right__today__information">\n          <svg\n              xmlns="http://www.w3.org/2000/svg"\n              class="icon icon-temperature-feelsLike"\n              width="24"\n              height="24"\n              viewBox="0 0 24 24"\n              stroke-width="1.5"\n              stroke="#ffffff"\n              fill="none"\n              stroke-linecap="round"\n              stroke-linejoin="round"\n            >\n              <path stroke="none" d="M0 0h24v24H0z" fill="none" />\n              <path d="M10 13.5a4 4 0 1 0 4 0v-8.5a2 2 0 0 0 -4 0v8.5" />\n              <line x1="10" y1="9" x2="14" y2="9" />\n            </svg>\n            <div class="today__feelslike__container">\n              <div class="today__feelslike__label">Feels like</div>\n              <div class="today__feelslike__val">${("C"===t?this._data.temperature.feelsLike-a:1.8*(this._data.temperature.feelsLike-a)+32).toFixed(1)}ยบ${t}</div>\n            </div>\n            <svg\n              xmlns="http://www.w3.org/2000/svg"\n              class="icon icon-humid"\n              width="24"\n              height="24"\n              viewBox="0 0 24 24"\n              stroke-width="1.5"\n              stroke="#ffffff"\n              fill="none"\n              stroke-linecap="round"\n              stroke-linejoin="round"\n            >\n              <path stroke="none" d="M0 0h24v24H0z" fill="none" />\n              <path d="M6.8 11a6 6 0 1 0 10.396 0l-5.197 -8l-5.2 8z" />\n              <path d="M6 14h12" />\n              <path d="M7.305 17.695l3.695 -3.695" />\n              <path d="M10.26 19.74l5.74 -5.74l-5.74 5.74z" />\n            </svg>\n            <div class="today__humidity__container">\n              <div class="today__humidity__label">Humidity</div>\n              <div class="today__humidity__val">${this._data.temperature.humidity}%</div>\n            </div>\n            <svg\n              xmlns="http://www.w3.org/2000/svg"\n              class="icon icon-temperature-min"\n              width="24"\n              height="24"\n              viewBox="0 0 24 24"\n              stroke-width="1.5"\n              stroke="#ffffff"\n              fill="none"\n              stroke-linecap="round"\n              stroke-linejoin="round"\n            >\n              <path stroke="none" d="M0 0h24v24H0z" fill="none" />\n              <path d="M8 13.5a4 4 0 1 0 4 0v-8.5a2 2 0 0 0 -4 0v8.5" />\n              <line x1="8" y1="9" x2="12" y2="9" />\n              <line x1="16" y1="9" x2="22" y2="9" />\n            </svg>\n            <div class="today_temp__min__container">\n              <div class="today__temp__min__label">Minimum Temperature</div>\n              <div class="today__temp__min__val">${("C"===t?this._data.temperature.tempMin-a:1.8*(this._data.temperature.tempMin-a)+32).toFixed(1)}ยบ${t}</div>\n            </div>\n            <svg\n              xmlns="http://www.w3.org/2000/svg"\n              class="icon icon-temperature-max"\n              width="24"\n              height="24"\n              viewBox="0 0 24 24"\n              stroke-width="1.5"\n              stroke="#ffffff"\n              fill="none"\n              stroke-linecap="round"\n              stroke-linejoin="round"\n            >\n              <path stroke="none" d="M0 0h24v24H0z" fill="none" />\n              <path d="M8 13.5a4 4 0 1 0 4 0v-8.5a2 2 0 0 0 -4 0v8.5" />\n              <line x1="8" y1="9" x2="12" y2="9" />\n              <line x1="16" y1="9" x2="22" y2="9" />\n              <line x1="19" y1="6" x2="19" y2="12" />\n            </svg>\n            <div class="today_temp__max__container">\n              <div class="today__temp__max__label">Minimum Temperature</div>\n              <div class="today__temp_max__val">${("C"===t?this._data.temperature.tempMax-a:1.8*(this._data.temperature.tempMax-a)+32).toFixed(1)}ยบ${t}</div>\n            </div>\n            <svg\n              xmlns="http://www.w3.org/2000/svg"\n              class="icon icon-wind"\n              width="24"\n              height="24"\n              viewBox="0 0 24 24"\n              stroke-width="1.5"\n              stroke="#ffffff"\n              fill="none"\n              stroke-linecap="round"\n              stroke-linejoin="round"\n            >\n              <path stroke="none" d="M0 0h24v24H0z" fill="none" />\n              <path d="M5 8h8.5a2.5 2.5 0 1 0 -2.34 -3.24" />\n              <path d="M3 12h15.5a2.5 2.5 0 1 1 -2.34 3.24" />\n              <path d="M4 16h5.5a2.5 2.5 0 1 1 -2.34 3.24" />\n            </svg>\n            <div class="today__windspeed__container">\n            <div class="today__windspeed__container">\n              <div class="today__windspeed__label">Wind Speed</div>\n              <div class="today__windspeed__val">${this._data.weather.windSpeed} km/h</div>\n            </div>\n        </div>\n    `}};var _=new class extends h{_parentElement=document.querySelector(".other__days__information");_svgIcons={Clouds:'\n    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-cloud" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round">\n      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n      <path d="M7 18a4.6 4.4 0 0 1 0 -9a5 4.5 0 0 1 11 2h1a3.5 3.5 0 0 1 0 7h-12" />\n    </svg>\n    ',Snow:'\n    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-cloud-snow" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round">\n      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n      <path d="M7 18a4.6 4.4 0 0 1 0 -9a5 4.5 0 0 1 11 2h1a3.5 3.5 0 0 1 0 7" />\n      <path d="M11 15v.01m0 3v.01m0 3v.01m4 -4v.01m0 3v.01" />\n    </svg>\n    ',Rain:'\n    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-cloud-rain" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round">\n      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n      <path d="M7 18a4.6 4.4 0 0 1 0 -9a5 4.5 0 0 1 11 2h1a3.5 3.5 0 0 1 0 7" />\n      <path d="M11 13v2m0 3v2m4 -5v2m0 3v2" />\n    </svg>\n    ',Clear:'\n    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-sun" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round">\n      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n      <circle cx="12" cy="12" r="4" />\n      <path d="M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7" />\n    </svg>\n    '};_generateMarkup(){const n=this._extraParam;return this._data.map((e=>`\n        <div class="other__day__timeslot">\n            <div class="other__day__date">${e.date}</div>\n              <div class="other__day__curWeather">${e.curWeather}${this._svgIcons[e.curWeather]}</div>\n              <div class="other__day__description">${e.description}</div>\n              <div class="other__day__temperature">Temperature: ${("C"===n?e.temp-a:1.8*(e.temp-a)+32).toFixed(1)}ยบ${n}</div>\n              <div class="other__day__feelsLike">Feels like: ${("C"===n?e.feelsLike-a:1.8*(e.feelsLike-a)+32).toFixed(1)}ยบ${n}</div>\n        </div>\n    `)).join("")}};var v=new class extends h{_parentElement=document.querySelector(".location__form");getQuery(){const n=this._parentElement.querySelector(".city__form").value.split(",").map((n=>n.trim()));return this._parentElement.querySelector(".city__form").value="",n}unfocus(){this._parentElement.querySelector(".city__form").blur()}addHandler(n){this._parentElement.addEventListener("submit",(function(e){e.preventDefault(),n()}))}};var u=new class extends h{_parentElement=document.querySelector(".unit__toggle");addHandler(n){const e=this;this._parentElement.addEventListener("click",(function(){const t=n();e._parentElement.textContent=`ยบ${t}`}))}};var w=new class extends h{_parentElement=document.querySelector(".pagination__container");addHandler(n){this._parentElement.addEventListener("click",(function(e){const t=e.target.closest(".pagBTN");if(!t)return;const a=+t.dataset.goto;n(a)}))}_generateMarkup(){const n=this._data[1],e=Math.ceil(this._data[0].hourlyForecast.length/this._data[2]);return 1===n&&e>1?`\n      <div class="pagination__container>\n          <div class="pagination__container">\n              <button class="pagBTN pagBTNRight" data-goto="${n+1}">\n                <svg\n                  xmlns="http://www.w3.org/2000/svg"\n                  class="icon icon--arrow-right"\n                  width="24"\n                  height="24"\n                  viewBox="0 0 24 24"\n                  stroke-width="1.5"\n                  stroke="#ffffff"\n                  fill="none"\n                  stroke-linecap="round"\n                  stroke-linejoin="round"\n                >\n                  <path stroke="none" d="M0 0h24v24H0z" fill="none" />\n                  <line x1="5" y1="12" x2="19" y2="12" />\n                  <line x1="13" y1="18" x2="19" y2="12" />\n                  <line x1="13" y1="6" x2="19" y2="12" />\n                </svg>\n              </button>\n          </div>\n      </div>\n    `:n===e&&e>1?`\n      <div class="pagination__container>\n          <div class="pagination__container">\n              <button class="pagBTN pagBTNLeft" data-goto="${n-1}">\n                <svg\n                  xmlns="http://www.w3.org/2000/svg"\n                  class="icon icon-arrow-left"\n                  width="24"\n                  height="24"\n                  viewBox="0 0 24 24"\n                  stroke-width="1.5"\n                  stroke="#ffffff"\n                  fill="none"\n                  stroke-linecap="round"\n                  stroke-linejoin="round"\n                >\n                  <path stroke="none" d="M0 0h24v24H0z" fill="none" />\n                  <line x1="5" y1="12" x2="19" y2="12" />\n                  <line x1="5" y1="12" x2="11" y2="18" />\n                  <line x1="5" y1="12" x2="11" y2="6" />\n                </svg>\n              </button>\n          </div>\n      </div>\n      `:n<e?`\n      <div class="pagination__container>\n          <div class="pagination__container">\n              <button class="pagBTN pagBTNLeft" data-goto="${n-1}">\n                <svg\n                  xmlns="http://www.w3.org/2000/svg"\n                  class="icon icon-arrow-left"\n                  width="24"\n                  height="24"\n                  viewBox="0 0 24 24"\n                  stroke-width="1.5"\n                  stroke="#ffffff"\n                  fill="none"\n                  stroke-linecap="round"\n                  stroke-linejoin="round"\n                >\n                  <path stroke="none" d="M0 0h24v24H0z" fill="none" />\n                  <line x1="5" y1="12" x2="19" y2="12" />\n                  <line x1="5" y1="12" x2="11" y2="18" />\n                  <line x1="5" y1="12" x2="11" y2="6" />\n                </svg>\n              </button>\n              <button class="pagBTN pagBTNRight" data-goto="${n+1}">\n                <svg\n                  xmlns="http://www.w3.org/2000/svg"\n                  class="icon icon--arrow-right"\n                  width="24"\n                  height="24"\n                  viewBox="0 0 24 24"\n                  stroke-width="1.5"\n                  stroke="#ffffff"\n                  fill="none"\n                  stroke-linecap="round"\n                  stroke-linejoin="round"\n                >\n                  <path stroke="none" d="M0 0h24v24H0z" fill="none" />\n                  <line x1="5" y1="12" x2="19" y2="12" />\n                  <line x1="13" y1="18" x2="19" y2="12" />\n                  <line x1="13" y1="6" x2="19" y2="12" />\n                </svg>\n              </button>\n          </div>\n      </div>\n      `:""}};const f=async function(){try{const a=v.getQuery(),r=a[0],c=a[1];v.unfocus(),p.renderSpinner(),_.clear(),w.clear(),await async function(a,r=null){try{o.page=1;const l=`${e}q=${a}${null!==r?`,${r}`:""}&appid=${n}`,c=await i(l);o.weatherSameday=s(c);const h=`${t}q=${a}${null!==r?`,${r}`:""}&appid=${n}`,p=await i(h);o.weatherFiveDays=d(p)}catch(n){throw console.log(n),n}}(r,c),p.render(o.weatherSameday,o.unit),_.render(l(),o.unit),w.render([o.weatherFiveDays,o.page,o.resPerPage])}catch(n){p.renderError(n)}},m=function(){const n=o.unit;return o.unit="C"===n?"F":"C",p.render(o.weatherSameday,o.unit),_.render(l(),o.unit),o.unit},g=function(n){_.render(l(n),o.unit),w.render([o.weatherFiveDays,o.page,o.resPerPage])};!async function(){try{p.renderSpinner(),await c(),p.render(o.weatherSameday,o.unit),_.render(l(),o.unit),w.render([o.weatherFiveDays,o.page,o.resPerPage])}catch(n){p.renderError("Location services turned off, unable to load current location weather. Search for a different location above!")}}(),v.addHandler(f),u.addHandler(m),w.addHandler(g);
//# sourceMappingURL=index.a4d5319b.js.map
